# SMKITS5 / Dokumentation
## Ãœbersicht
| Dokumentation | Referenz |
| --- | --- |
| ToDo-Liste | [./todo.md](./todo.md) |
| Abschlussbericht | [https://sharelatex.cs.uni-magdeburg.de/project/634ef52d9aa238009023f370](https://sharelatex.cs.uni-magdeburg.de/project/634ef52d9aa238009023f370) |
| SMK-Bericht | [./smkreport.md](./smkreport.md) |
| Meeting- und Fortschrittsprotokoll | [./meetings.md](./meetings.md) |
| akquidierte Daten | [./acquiredData/](./acquiredData/) |
| DR1-Foliensatz | [./presentations/SMKITS-Presentation DR1.pdf](./presentations/SMKITS-Presentation%20DR1.pdf) |
| DR2-Foliensatz | [./presentations/SMKITS-Presentation DR2.pdf](./presentations/SMKITS-Presentation%20DR2.pdf) |
| *Theorieaufgabe*: Testprotokoll-Tabelle | [./variations.md](./variations.md) |
| *Theorieaufgabe*: Testprotokoll-Diagramm | [./materials/flowchart.drawio.svg](./materials/flowchart.drawio.svg) |
| *Theorieaufgabe*: Werkzeug-Tabelle | [./tools.md](./tools.md) |
| *Theorieaufgabe*: Attributierungsmerkmale | [./attributes.md](./attributes.md) |
| *stegbreak*-Fehlerdiagramm | [./materials/stegbreak-failure.svg](./materials/stegbreak-failure.svg) |
## Quick Start
1. clone git-repo: `git clone https://github.com/birne420/amsl-it-security-projects amsl-sec`
2. open new terminal in `./amsl-sec/SMKITS5/`
3. to install docker, run `./stego-docker.sh --setup`
4. to download Stego-Toolkit, run `./stego-docker.sh --pull`
5. enter container with `./stego-docker.sh --run`
6. do step 2 again
7. to import test scripts and data, run (in new terminal) `./stego-docker-importDefaults.sh`
8. done, now should be able to run e.g. `./stego-attrib.sh -n 1` to analyse a file
## Script-Usage
- this projects works in two different environments:
  - physical repo: this pulled repository on your hard disk
  - virtual docker: can be entered via shell with `./stego-docker.sh --run`
- some scripts are specific to an environment so they can only operate in one (in brackets)
### stego-attrib.sh (virtual docker)
- basic syntax `./stego-attrib.sh <parameters>`
- `-h`, `--help` display help
- **mode 1**: data acquisition 
  - `-i | --input <directory>` set cover file input (default is `./coverData`)
  - `-o | --output <directory>` set analysis data output (default is `./out-stego-attrib`)
  - `-z | --tar <file>` create tarball after analysis of output directory
  - `-n | --size <int>` set subset size for analysis (default is `1`)
  - `-m | --offset <int>` set amount of testset-samples to skip (default is `0`)
  - `-r | --randomize` randomize selection of test-samples
  - `-c | --clean` wipe output directory prior analysis
  - `-d | --delete` delete analysis temp data and only keep results
  - `-v | --verbose` print every command execution to console
- **mode 2**: `JPEG`-file attribution
  - `-x | --examine <stego jpg> [original jpg]` analyse and attribute any `jpg`-file based on this project's results, with optional orginal file (cover-stego-pair) attribution will be easier
### stego-attrib-test.sh (virtual docker)
- basic syntax `./stego-attrib-test.sh`
- test attrib, settings in script
### stego-docker.sh (physical repo)
- basic syntax `./stego-docker.sh <parameters>`
- `-h | --help` display help
- `-s | --setup` run docker setup and config (wsl2: make sure `systemd` is enabled)
- `-p | --pull` download stego-toolkit container
- `-r | --run` enter docker container shell
- `-i | --import <file | directory>` copy files to docker (shortcut for `docker cp ./data containerId:/data`)
### stego-docker-importDefaults.sh (physical repo)
- basic syntax `./stego-utils-importDefaults.sh`
- calls `./stego-docker.sh` script and imports default files (scripts and testdata)
### stego-utils-buildTestset.sh (physical repo)
- basic syntax `./stego-utils-buildTestset.sh [out dir]`
- default parameter is `./coverData`
- this script was used to create [this](./../coverData) testset, you should only use this script if you want to create your own testset (from multiple sources)
- used to copy random selected files from all used databases:
  - `./private` directory, containing own `jpg`-files
  - `./bows2` directory from [here](http://bows2.ec-lille.fr) (as `jpg`-files!)
  - `./kaggle-alaska2` directory from [here](https://www.kaggle.com/competitions/alaska2-image-steganalysis/data)
### stego-utils-generateDiagrams.sh (physical repo)
- basic syntax `./stego-utils-generateDiagrams.sh <csvDataDirectory>`
- parameter has to contain multiple csv-files generated by `./stego-attrib.sh`-script
- it will sum up and average specific values
- output is diagram-ready csv
### stego-utils-recompress.sh (virtual docker)
- basic syntax `./stego-utils-recompress.sh [in dir]`
- default parameter is `./coverData`
- recompresses testset, creates diff. images between recompression and original, and create diagram-ready csv
